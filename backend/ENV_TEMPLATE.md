# ‚öôÔ∏è .env Configuration Template

Copy this to your `backend/.env` file and replace the values:

```env
# ============================================
# DATABASE CONNECTION
# ============================================
# Format: mysql://username:password@host:port/database

# Option 1: MySQL with password
DATABASE_URL="mysql://root:YOUR_MYSQL_PASSWORD@localhost:3306/smartsplit"

# Option 2: XAMPP (no password)
# DATABASE_URL="mysql://root:@localhost:3306/smartsplit"

# Option 3: Different user
# DATABASE_URL="mysql://myuser:mypassword@localhost:3306/smartsplit"

# ============================================
# SESSION SECRET (COPY FROM GENERATED)
# ============================================
# This was generated by setup.js - COPY IT HERE
SESSION_SECRET="5b2cc3f7eed4d5d0a5e3c9f9b42d2cc5992bfc03ac28ada7bf230c92744fc78849663129de363998af7c2457ccb33aba9b1341cb26afddf1ec58851af10ed118"

# ============================================
# GOOGLE OAUTH CREDENTIALS
# ============================================
# Get these from: https://console.cloud.google.com/
# 1. Create project
# 2. Enable Google+ API
# 3. Create OAuth 2.0 Client ID
# 4. Copy credentials here

GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3001/auth/google/callback"

# ‚ö†Ô∏è IMPORTANT: Add this redirect URI in Google Console:
#    http://localhost:3001/auth/google/callback

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV="development"
PORT=3001
FRONTEND_URL="http://localhost:3000"

# ============================================
# RATE LIMITING
# ============================================
# THROTTLE_TTL: Time window in seconds (900 = 15 minutes)
# THROTTLE_LIMIT: Maximum requests per time window
THROTTLE_TTL=900
THROTTLE_LIMIT=100

# ============================================
# OPTIONAL: JWT SECRET (for future use)
# ============================================
# JWT_SECRET="a4f745eca1abaa4a70845d970208ddc1330715834d322be32446ffafbbdf96a8057c3cf47ba0bc17e7c88b8f5d9f13ca27ebc5f2d19eb0ff9a0eed70646ef339"
```

---

## üîç Variable Explanations

### DATABASE_URL
- **Purpose:** Connection string for MySQL database
- **Format:** `mysql://[user]:[password]@[host]:[port]/[database]`
- **Examples:**
  - With password: `mysql://root:mypassword@localhost:3306/smartsplit`
  - No password: `mysql://root:@localhost:3306/smartsplit`
  - Custom host: `mysql://root:password@192.168.1.100:3306/smartsplit`

### SESSION_SECRET
- **Purpose:** Encrypts session cookies
- **Requirements:** Long random string (64+ characters)
- **Security:** NEVER share or commit to Git
- **Generated:** By running `npm run setup`

### GOOGLE_CLIENT_ID
- **Purpose:** OAuth client identifier
- **Format:** `xxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com`
- **Where:** Google Cloud Console ‚Üí Credentials

### GOOGLE_CLIENT_SECRET
- **Purpose:** OAuth client secret key
- **Format:** `GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
- **Where:** Google Cloud Console ‚Üí Credentials

### GOOGLE_CALLBACK_URL
- **Purpose:** Where Google redirects after login
- **Must match:** Exactly what's in Google Console
- **Local dev:** `http://localhost:3001/auth/google/callback`
- **Production:** `https://yourdomain.com/auth/google/callback`

### NODE_ENV
- **Purpose:** Application environment
- **Values:** `development`, `production`, `test`
- **Current:** `development` (for local dev)

### PORT
- **Purpose:** Port where backend server runs
- **Default:** `3001`
- **Change if:** Port is already in use

### FRONTEND_URL
- **Purpose:** Frontend URL for CORS
- **Local dev:** `http://localhost:3000`
- **Production:** Your actual frontend URL

### THROTTLE_TTL
- **Purpose:** Rate limit time window (seconds)
- **Default:** `900` (15 minutes)

### THROTTLE_LIMIT
- **Purpose:** Max requests per time window
- **Default:** `100` (100 requests per 15 min)

---

## ‚úÖ Verification Checklist

After updating .env:

- [ ] DATABASE_URL has correct MySQL password
- [ ] SESSION_SECRET is the long generated string
- [ ] GOOGLE_CLIENT_ID ends with `.apps.googleusercontent.com`
- [ ] GOOGLE_CLIENT_SECRET starts with `GOCSPX-`
- [ ] GOOGLE_CALLBACK_URL matches Google Console exactly
- [ ] No trailing spaces in any values
- [ ] No quotes inside the quoted strings
- [ ] File is saved in `backend/.env` (not .env.example)

---

## üß™ Test Your Configuration

After setting up .env:

```powershell
# Test database connection
npm run test:db

# Check overall setup
npm run check

# If all good, start server
npm run start:dev
```

---

## ‚ö†Ô∏è Common Mistakes

### ‚ùå Wrong:
```env
DATABASE_URL=mysql://root:password@localhost:3306/smartsplit
```
Missing quotes!

### ‚úÖ Correct:
```env
DATABASE_URL="mysql://root:password@localhost:3306/smartsplit"
```

### ‚ùå Wrong:
```env
SESSION_SECRET="abc123"
```
Too short, not secure!

### ‚úÖ Correct:
```env
SESSION_SECRET="5b2cc3f7eed4d5d0a5e3c9f9b42d2cc5992bfc03ac28ada7bf230c92744fc78849663129de363998af7c2457ccb33aba9b1341cb26afddf1ec58851af10ed118"
```

### ‚ùå Wrong:
```env
GOOGLE_CALLBACK_URL="http://localhost:3001/auth/google/callback/"
```
Trailing slash!

### ‚úÖ Correct:
```env
GOOGLE_CALLBACK_URL="http://localhost:3001/auth/google/callback"
```

---

## üîê Security Notes

- ‚úÖ `.env` is in `.gitignore` (won't be committed)
- ‚úÖ Use `.env.example` for sharing (without real values)
- ‚úÖ Generate new secrets for production
- ‚úÖ Never commit real credentials
- ‚úÖ Use environment-specific .env files

---

**Need help? See CHECKLIST.md for step-by-step setup!**
